<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
  <th:block th:insert="fragments/header :: header"></th:block>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<link rel="stylesheet"
	th:href="@{/webjars/materializecss/1.0.0/css/materialize.min.css}">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
	<div class="container">
	<div class="row card hoverable">
	<div class="card-content">
		<h3 class="center gray-text">出入金記録</h3>
		<p>必要事項を入力してください。 *必須
		<form th:action="@{/record}" th:object="${moneyRecord}" method="post"
			novalidate>
			<input type="hidden" name="username" th:value="${user.username}" />
			<div class="form-group">
				<label for="recordDate">日付</label> <input type="text"
					class="datepicker" th:errorclass="is-invalid"
					th:field="*{recordDate}">
				<div class="invalid-feedback" th:errors="*{recordDate}"></div>
			</div>
			<div class="form-group">
				<label for="incomeAndExpense">金額</label> <input type="number"
					th:errorclass="is-invalid" th:field="*{incomeAndExpense}">
				<div class="invalid-feedback" th:errors="*{incomeAndExpense}"></div>
			</div>
			<div class="form-group">
				<select class="form-control" name="categoryId">
					<div th:each="subcategory : ${subcategories}" th:inline="text">
						<option th:value="${subcategory.categoryId}"
							th:field="*{categoryId}">[[${subcategory.subcategoryName}]]</option>
					</div>
				</select>
			</div>
			<div class="form-group">
				<label for="note">備考</label>
				<textarea rows="10" cols="30" th:errorclass="is-invalid"
					th:field="*{note}"></textarea>
				<div class="invalid-feedback" th:errors="*{note}"></div>
			</div>

			<div class="form-check"></div>
			<button class="btn">登録</button>
		</form>
	</div>
	</div>
	</div>
	<script>
$(document).ready(function(){
    $('.datepicker').datepicker({
        format: "yyyy-mm-dd",
        i18n:{
          months:  ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
          monthsShort: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
          weekdays: ["日曜日", "月曜日", "火曜日", "水曜日", "木曜日", "金曜日", "土曜日"],
          weekdaysShort: ["日", "月", "火", "水", "木", "金", "土"],
          weekdaysAbbrev: ["日", "月", "火", "水", "木", "金", "土"],
          nextMonth: "翌月",
          previousMonth: "前月",
          labelMonthSelect: "月を選択",
          labelYearSelect: "年を選択",
          setDefaultDate:true,
          cancel:'キャンセル',
          clear: 'クリア',
          done: 'OK',
          close: "閉じる",
          format: "yyyy-mm-dd",
        }
    });
  });
</script>
</body>
</html>