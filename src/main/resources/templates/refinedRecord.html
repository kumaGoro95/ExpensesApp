<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<th:block th:insert="fragments/header :: header"></th:block>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel='stylesheet'
	th:href="@{/webjars/fullcalendar/3.5.1/dist/fullcalendar.css}">
<script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
<script th:src="@{webjars/moment/2.19.1/min/moment.min.js}"></script>
<script th:src="@{webjars/fullcalendar/3.5.1/dist/fullcalendar.js}"></script>
<script type="text/javascript"
	th:src="@{/webjars/materializecss/1.0.0/js/materialize.min.js/}"></script>
<link rel="stylesheet"
	th:href="@{/webjars/materializecss/1.0.0/css/materialize.min.css}">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/stylesheet.css}">
<title>title</title>

<script>
	$(document).ready(
			function() {
				$('#calendar').fullCalendar(
						{
							events : {
								url : '/api/event/all'
							},
							//イベントの色を変える
							eventColor : '#FFFFFF',
							//イベントの文字色を変える

							eventRender : function(event, element) {
								element.css("font-size", "0.9em");
								element.css("padding", "5px");
								element.find('span.fc-title').html(
										element.find('span.fc-title').text());
							}
						});

				$('.tabs').tabs();

				$('.dropdown-trigger').dropdown();

			});

	$('#deleteAssignmentModal').on('click', function(event) {
		var button = $(event.relatedTarget); // Button that triggered the modal
		var objectName = button.data('object-name'); // Extract info from data-object-name attribute
		console.log();

		// Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
		var modal = $(this);
		modal.find('.modal-footer p').text(objectName);
	})
</script>

</head>
<body>
	<div class="container">
	<div class="row"></div>
		<div class="row card">

			<div class="col s12">
				<div class="container">
					<div class="row">
						<div class="record">
							<h3>一覧</h3>


							<table>
								<thead>
									<tr>
										<th>日付</th>
										<th>金額</th>
										<th>カテゴリ</th>
										<th>備考</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<div th:each="record : ${records}" th:inline="text">
										<tr>
											<td>[[${record.recordDate}]]</td>
											<td>[[${record.incomeAndExpense}]]円</td>
											<td><i th:class="${icon}"></i>[[${record.subcategoryName}]]</td>
											<td>[[${record.note}]]</td>
											<td><a th:href="@{/money-record/edit/__${record.recordId}__/2}">編集</a>
												<a th:href="@{/money-record/delete/__${record.recordId}__/2}">削除</a></td>
										</tr>

									</div>
								</tbody>
							</table>
<div class="row"></div>
<a th:href="@{/money-record/history}">戻る</a>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
</body>
<th:block th:insert="fragments/footer :: footer"></th:block>
</html>